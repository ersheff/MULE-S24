(self.webpackChunkArpeggios=self.webpackChunkArpeggios||[]).push([[917],{1851:(t,e,i)=>{var n,o;n=[i(6775)],void 0===(o=function(t){var e=function(t){window.addEventListener("orientationchange",this._changed.bind(this)),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",this._screenChange.bind(this)),this._callback=t};return e.prototype._changed=function(){90===Math.abs(window.orientation)&&"started"===t.state&&this._callback()},e.prototype._screenChange=function(){90===Math.abs(window.screen.orientation.angle)&&"started"===t.state&&this._callback()},e}.apply(e,n))||(t.exports=o)},7917:(t,e,i)=>{var n,o;n=[i(531),i(9755),i(3578),i(8827),i(8922),i(6514),i(3325),i(4312),i(6775),i(6783)],void 0===(o=function(t,e,i,n,o,r,s,a,h,l){var p=e("<div>",{id:"Chord"}).appendTo("body");function u(){var t=Math.min(p.width(),p.height());t-=30,c.width(t),c.height(t),c.css({"margin-left":-t/2,"margin-top":-t/2})}var c=e("<div>",{id:"Wheel"}).appendTo(p);e(window).on("resize",u),u();var d=new i(c),f=(new n(c),new o(c));f.onstart=function(t,e){currentLetter=t,currentKey=e,d.draw(t,e),"started"===h.state||r.strum(t,e),s.setChord(a[e][t])},f.onend=function(){},f.onstart("C","major"),l(c)}.apply(e,n))||(t.exports=o)},8922:(t,e,i)=>{var n,o;n=[i(9755),i(6504)],void 0===(o=function(t,e){var i=function(e){this.element=t("<div>",{id:"Interaction"}).appendTo(e),this.element.on("mousedown",this.mousedown.bind(this)),this.element.on("touchstart",this.touchstart.bind(this)),this.element.on("touchend",this.mouseup.bind(this)),this.element.on("mouseup",this.mouseup.bind(this)),this.onstart=function(){},this.onend=function(){}};return i.prototype.getChord=function(t,i){var n=2*Math.PI,o=this.element.width(),r=this.element.height();t=(t-o/2)/o*2,i=(i-r/2)/r*2;var s=Math.atan2(i,t),a=Math.sqrt(t*t+i*i),h=0;for(var l in e.major){var p=e.major[l];if(s>p.startAngle&&s<p.endAngle)break;if(s+n>p.startAngle&&s+n<p.endAngle)break;h++}return a<e.innerRadius?[e.minorOrder[h],"minor"]:[e.majorOrder[h],"major"]},i.prototype.mousedown=function(t){t.preventDefault(),t.stopPropagation();var e=this.getChord(t.offsetX,t.offsetY);this.onstart(e[0],e[1])},i.prototype.touchstart=function(t){t.preventDefault(),t.stopPropagation();var e=t.originalEvent.touches,i=this.element.offset();if(e.length>0){var n=e[0],o=this.getChord(n.pageX-i.left,n.pageY-i.top);this.onstart(o[0],o[1])}},i.prototype.mouseup=function(t){this.onend()},i}.apply(e,n))||(t.exports=o)},8827:(t,e,i)=>{var n,o;n=[i(9755),i(6504)],void 0===(o=function(t,e){var i=function(e){this.element=t("<div>",{id:"Letters"}).appendTo(e),this.resize(),t(window).resize(this.resize.bind(this))};return i.prototype.resize=function(){var i,n;for(var o in this.element.html(""),Math.min(this.element.width(),this.element.height()),this.center={x:this.element.width()/2,y:this.element.height()/2},e.major)i=e.major[o].center,n=o.replace("#","<span>#</span>"),t("<div>",{class:"Letter Major",html:n}).appendTo(this.element).css({left:i.x*this.center.x+this.center.x,top:i.y*this.center.y+this.center.y});for(var r in e.minor)i=e.minor[r].center,n=r.replace("#","<span>#</span>"),t("<div>",{class:"Letter Minor",html:n}).appendTo(this.element).css({left:i.x*this.center.x+this.center.x,top:i.y*this.center.y+this.center.y})},i}.apply(e,n))||(t.exports=o)},6504:(t,e,i)=>{var n;void 0===(n=function(){function t(t,e){return{x:e*Math.cos(t),y:e*Math.sin(t)}}for(var e=.66,i=["C","G","D","A","E","B","F#","C#","G#","D#","A#","F"],n=["A","E","B","F#","C#","G#","D#","A#","F","C","G","D"],o={},r={},s=.01,a=2*Math.PI/i.length,h=0-a/2-Math.PI/2,l=0;l<i.length;l++){var p={startAngle:h-s,endAngle:h+a+s,innerRadius:e,outerRadius:1};p.center=t((p.endAngle+p.startAngle)/2,(p.outerRadius+p.innerRadius)/2),o[i[l]]=p,h+=a}for(var u=0;u<n.length;u++){var c={startAngle:h-s,endAngle:h+a+s,innerRadius:0,outerRadius:e};c.center=t((c.endAngle+c.startAngle)/2,3*c.outerRadius/4),r[n[u]]=c,h+=a}return{major:o,minor:r,majorOrder:i,minorOrder:n,innerRadius:e}}.call(e,i,e,t))||(t.exports=n)},3578:(t,e,i)=>{var n,o;n=[i(9755),i(5392),i(531),i(6504),i(8207)],void 0===(o=function(t,e,i,n,o){var r=function(e){this.canvas=t("<canvas>",{id:"Canvas"}).appendTo(e),this.radius=this.canvas.width(),this.center=this.canvas.width(),this.innerRadius=.66*this.radius,this.currentLetter="C",this.currentKey="major",this.context=this.canvas.get(0).getContext("2d"),this.resize(),t(window).on("resize",this.resize.bind(this))},s={};for(var a in e){var h=o(e[a]);h.darken(10),s[a]=h.toRgbString()}return r.prototype.resize=function(){this.radius=Math.min(this.canvas.width(),this.canvas.height()),this.center=this.radius,this.context.canvas.width=2*this.canvas.width(),this.context.canvas.height=2*this.canvas.height(),this.innerRadius=.66*this.radius,this.draw(this.currentLetter,this.currentKey)},r.prototype.draw=function(t,i){this.currentLetter=t,this.currentKey=i,this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),i="major"===i;var o=this.canvas.width(),r=this.canvas.height();for(var a in n.major){var h=n.major[a];this.context.fillStyle=a==t&&i?"black":e[a],this.context.beginPath(),this.context.moveTo(o,r),this.context.arc(o,r,this.radius*h.outerRadius,h.startAngle,h.endAngle,!1),this.context.fill()}for(var l in n.minor){var p=n.minor[l];this.context.fillStyle=l!=t||i?s[l]:"black",this.context.beginPath(),this.context.moveTo(o,r),this.context.arc(o,r,this.radius*p.outerRadius,p.startAngle,p.endAngle,!1),this.context.fill()}},r}.apply(e,n))||(t.exports=o)},5392:t=>{t.exports={C:"rgb(246, 190, 55)","C#":"rgb(128, 100, 198)",D:"rgb(149, 198, 49)","D#":"rgb(237, 56, 131)",E:"rgb(69, 181, 161)",F:"rgb(247, 148, 61)","F#":"rgb(78, 97, 216)",G:"rgb(209, 193, 46)","G#":"rgb(165, 66, 177)",A:"rgb(75, 178, 80)","A#":"rgb(247, 88, 57)",B:"rgb(69, 152, 182)"}},4312:(t,e,i)=>{var n,o;n=[i(6153),i(6504)],void 0===(o=function(t,e){for(var i={major:{},minor:{}},n=0;n<e.majorOrder.length;n++){var o=e.majorOrder[n],r=t.note(o+"3").chord("major"),s=t.note(o+"3").chord("minor");i.major[o]=[],i.minor[o]=[];for(var a=0;a<3;a++){for(var h=r.notes(),l=s.notes(),p=0;p<h.length;p++)i.major[o].push(h[p].midi()),i.minor[o].push(l[p].midi());r.transpose(t.interval("P8")),s.transpose(t.interval("P8"))}}return i}.apply(e,n))||(t.exports=o)},2030:t=>{t.exports={loopDuration:"1m",parts:[[{time:"8n * 0",degree:0,duration:"8n"},{time:"8n * 1",degree:1,duration:"8n"},{time:"8n * 2",degree:2,duration:"8n"},{time:"8n * 3",degree:3,duration:"8n"},{time:"8n * 4",degree:4,duration:"8n"},{time:"8n * 5",degree:3,duration:"8n"},{time:"8n * 6",degree:2,duration:"8n"},{time:"8n * 7",degree:1,duration:"8n"}],[{time:"8n * 0",degree:3,duration:"8n"},{time:"8n * 1",degree:5,duration:"8n"},{time:"8n * 2",degree:4,duration:"8n"},{time:"8n * 3",degree:5,duration:"8n"},{time:"8n * 4",degree:3,duration:"8n"},{time:"8n * 5",degree:5,duration:"8n"},{time:"8n * 6",degree:4,duration:"8n"},{time:"8n * 7",degree:5,duration:"8n"}],[{time:"4n * 0",degree:0,duration:"4n"},{time:"4n * 1",degree:1,duration:"4n"},{time:"4n * 2",degree:2,duration:"4n"},{time:"4n * 3",degree:3,duration:"4n"}],[{time:"8t * 0",degree:5,duration:"8t"},{time:"8t * 1",degree:4,duration:"8t"},{time:"8t * 2",degree:3,duration:"8t"},{time:"8t * 3",degree:4,duration:"8t"},{time:"8t * 4",degree:3,duration:"8t"},{time:"8t * 5",degree:2,duration:"8t"},{time:"8t * 6",degree:3,duration:"8t"},{time:"8t * 7",degree:2,duration:"8t"},{time:"8t * 8",degree:1,duration:"8t"},{time:"8t * 9",degree:2,duration:"8t"},{time:"8t * 10",degree:3,duration:"8t"},{time:"8t * 11",degree:4,duration:"8t"}],[{time:"8t * 0",degree:0,duration:"8t"},{time:"8t * 0",degree:2,duration:"8t"},{time:"8t * 1",degree:1,duration:"8t"},{time:"8t * 1",degree:3,duration:"8t"},{time:"8t * 2",degree:2,duration:"8t"},{time:"8t * 2",degree:4,duration:"8t"},{time:"8t * 3",degree:3,duration:"8t"},{time:"8t * 3",degree:5,duration:"8t"},{time:"8t * 4",degree:2,duration:"8t"},{time:"8t * 4",degree:4,duration:"8t"},{time:"8t * 5",degree:1,duration:"8t"},{time:"8t * 5",degree:5,duration:"8t"},{time:"8t * 6",degree:0,duration:"8t"},{time:"8t * 6",degree:6,duration:"8t"},{time:"8t * 7",degree:1,duration:"8t"},{time:"8t * 7",degree:5,duration:"8t"},{time:"8t * 8",degree:2,duration:"8t"},{time:"8t * 8",degree:6,duration:"8t"},{time:"8t * 9",degree:3,duration:"8t"},{time:"8t * 9",degree:7,duration:"8t"},{time:"8t * 10",degree:6,duration:"8t"},{time:"8t * 10",degree:2,duration:"8t"},{time:"8t * 11",degree:5,duration:"8t"},{time:"8t * 11",degree:1,duration:"8t"}]]}},7597:(t,e,i)=>{var n;void 0===(n=function(){var t=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],e={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"},i=/(-?\d+)/;return{getNotes:function(e,n){var o=parseInt(e.split(i)[1]),r=e.split(i)[0];r=t.indexOf(r);var s=parseInt(n.split(i)[1]),a=n.split(i)[0];a=t.indexOf(a);for(var h=r,l=o,p=[];h!==a||l!==s;)p.push(t[h]+l),++h>=t.length&&(h=0,l++);return p},getRespelling:function(t){var n=t.split(i)[0],o=parseInt(t.split(i)[1]);return e.hasOwnProperty(n)?e[n]+o.toString():null}}}.call(e,i,e,t))||(t.exports=n)},6864:(t,e,i)=>{var n,o;n=[i(969),i(7597),i(1347),i(1115)],void 0===(o=function(t,e,i,n){var o=function(e,i,n,o){this._multiPlayer=(new t).toMaster(),this._instrumentFolder=e,this._lowestNote=i,this._highestNote=n,this._stepSize=o||4,this._loadCount=0,this._notes={},this._buffers={},this._releaseTime=.5,this.loaded=!1,this.onload=function(){}};return o.prototype.load=function(){for(var t=e.getNotes(this._lowestNote,this._highestNote),i=0;i<t.length;i+=2*this._stepSize+1){var o=Math.max(2*this._stepSize+1,t.length),r=t[i+this._stepSize];if(void 0!==r){this._loadCount+=1;var s=new n(this._instrumentFolder+"/"+r+".mp3",this._loadedBuffer.bind(this));this._multiPlayer.addBuffer(r,s);for(var a=i;a<o;a++){var h=t[a];this._notes[h]={interval:a-i-this._stepSize,buffer:r};var l=e.getRespelling(h);l&&(this._notes[l]=this._notes[h])}}}},o.prototype._loadedBuffer=function(){this._loadCount-=1,0===this._loadCount&&(this.loaded=!0,this.onload())},o.prototype.triggerAttackRelease=function(t,e,i){var n=this._notes[t];this._multiPlayer.start(n.buffer,i,{playbackRate:this._multiPlayer.intervalToFrequencyRatio(n.interval),release:this._releaseTime,duration:e,gain:.9}),window.max.outlet(t.replace(/\d+$/,""))},o.prototype.triggerAttack=function(t,e){this._notes[t]},o.prototype.triggerRelease=function(t,e){var i=this._notes[t];console.log(i),this._multiPlayer.stop(i.buffer,e)},o.prototype.releaseAll=function(){this._multiPlayer.stopAll()},o.prototype.dispose=function(){for(var t in this.releaseAll(),this._buffers)this._buffers[t].dispose();this._buffers=null,this._notes=null},o}.apply(e,n))||(t.exports=o)},8329:(t,e,i)=>{var n,o;n=[i(9755),i(4312),i(6153),i(2030),i(1826),i(5392)],void 0===(o=function(t,e,i,n,o,r){var s=-1/0,a=1/0;for(var h in e.major)for(var l=e.major[h],p=0;p<l.length;p++)l[p]>s&&(s=l[p]),l[p]<a&&(a=l[p]);var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],c=function(e,i,o,r){this.container=e,this.element=t("<div>",{class:"Note"}).appendTo(e),this.highlight=t("<div>",{id:"Highlight"}).appendTo(this.element),this.time=i,this.degree=o,this.duration=r,this.toSeconds(n.loopDuration),this.resize(),t(window).resize(this.resize.bind(this))};return o.extend(c),c.prototype.setChord=function(t){var e=t[this.degree],n=(e-a+2)/(s-a),o=this.container.height();n*=o,this.element.css("top",o-n);var h=i.note.fromMIDI(e).chroma(),l=r[u[h]];this.element.css("background-color",l)},c.prototype.resize=function(){setTimeout(function(){var t=this.toSeconds(n.loopDuration),e=this.container.width()-parseFloat(this.element.css("margin-left"))-parseFloat(this.element.css("margin-right"));this.element.width(this.toSeconds(this.duration)/t*e),this.element.css("left",this.toSeconds(this.time)/t*e)}.bind(this),200)},c.prototype.play=function(t){this.highlight.addClass("Active"),setTimeout(function(){this.highlight.removeClass("Active")}.bind(this),1e3*t)},c}.apply(e,n))||(t.exports=o)},1952:(t,e,i)=>{var n,o;n=[i(7384),i(8329),i(9755),i(6514)],void 0===(o=function(t,e,i,n){var o=function(n,o){var r;for(this.element=i("<div>",{class:"Part"}).appendTo(n),this.notes=[],r=0;r<o.length;r++)this.notes.push([o[r].time,new e(this.element,o[r].time,o[r].degree,o[r].duration)]);this.part=new t(this.onnote.bind(this),this.notes).start(0),this.enabled=!0};return o.prototype.onnote=function(t,e){if(this.enabled){var i=this.part.toSeconds(e.duration);e.play(i),n.play(this.chord[e.degree],t,i)}},o.prototype.enable=function(t){this.enabled=t,t&&this.setChord(this.chord)},o.prototype.initChord=function(){var t=this.chord;this.notes.forEach((function(e){e[1].setChord(t)}))},o.prototype.setChord=function(t){this.enabled&&this.notes.forEach((function(e){e[1].setChord(t)})),this.chord=t},o}.apply(e,n))||(t.exports=o)},3325:(t,e,i)=>{var n,o;n=[i(9755),i(2030),i(1952),i(4789),i(4312),i(6775),i(6108),i(9777)],void 0===(o=function(t,e,i,n,o,r,s,a){var h=t("<div>",{id:"Parts"}).appendTo("body");t(window).on("resize",(function(){f.setChord(d)}));for(var l=[],p=0,u=0;u<e.parts.length;u++){var c=new i(h,e.parts[u]);c.enabled=!1,l.push(c)}var d=[],f={setChord:function(t){d=t,l.forEach((function(e){e.setChord(t)}))},initChord:function(){l.forEach((function(t){t.initChord()}))},setPart:function(t,e){l[t].enable(!1),p=e,l[e].enable(!0)}};return f.setChord(o.major.C),l[p].enable(!0),s(h,f.setPart),h.find(".slick-prev").addClass("icon-svg_left_arrow"),h.find(".slick-next").addClass("icon-svg_right_arrow"),r.loop=!0,r.loopEnd=e.loopDuration,a(h),f}.apply(e,n))||(t.exports=o)},6783:(t,e,i)=>{var n,o;n=[i(9755),i(6775),i(1851)],void 0===(o=function(t,e,i){return function(n){var o=t("<div>",{id:"PlayButton",class:"Button icon-svg_play"}).appendTo(n).on("click",(function(t){t.preventDefault(),"started"===e.state?(e.stop(),o.removeClass("Active"),o.removeClass("icon-svg_pause"),o.addClass("icon-svg_play")):(e.start(),o.addClass("Active"),o.removeClass("icon-svg_play"),o.addClass("icon-svg_pause"))}));new i((function(){e.stop(),o.removeClass("Active"),o.removeClass("icon-svg_pause"),o.addClass("icon-svg_play")}))}}.apply(e,n))||(t.exports=o)},6108:(t,e,i)=>{var n,o;n=[i(9755),i(9154),i(8410)],void 0===(o=function(t,e,i){return function(e,i,n){t(e).slick({dots:!1,accessibility:!1,arrows:!0,infinite:!1}).on("beforeChange",(function(t,e,n,o){i(n,o)})).on("mousedown touchstart",(function(t){n&&n()})),t(e).find(".slick-arrow").addClass("Button").on("click",(function(e){e.preventDefault(),e.stopPropagation(),t(e.target).blur()})),t(e).find(".slick-arrow").text("")}}.apply(e,n))||(t.exports=o)},9777:(t,e,i)=>{var n,o;n=[i(9755),i(6775)],void 0===(o=function(t,e){return function(i){var n=t("<div>",{id:"LoopPosition"}).appendTo(i);!function t(){requestAnimationFrame(t),n.css("left",e.progress*i.width())}()}}.apply(e,n))||(t.exports=o)},6910:(t,e,i)=>{var n,o;n=[i(9755),i(3768),i(7695)],void 0===(o=function(t,e,i){var n=t("<div>",{id:"PianoHarp",class:"Button icon-svg_harp"}).appendTo("body").on("click",(function(t){t.preventDefault(),n.hasClass("icon-svg_piano")?(n.removeClass("icon-svg_piano"),n.addClass("icon-svg_harp"),o.onharp()):(n.removeClass("icon-svg_harp"),n.addClass("icon-svg_piano"),o.onpiano())}));i.onopen=function(){o.onmetroopen()},i.onclose=function(){o.onmetroclose()};var o={onpiano:function(){},onharp:function(){},onmetroopen:function(){},onmetroclose:function(){}};return o}.apply(e,n))||(t.exports=o)},5071:(t,e,i)=>{var n,o;n=[i(9755),i(8975)],void 0===(o=function(t,e){var i=t("<div>",{id:"Loading"}),n=t("<div>",{class:"SpinContainer"}).appendTo(i),o=(t("<div>",{class:"icon-svg_piano Icon"}).appendTo(n),t("<div>").appendTo(n).html('<svg class="Spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="Circle" fill="none" stroke-width="3" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>'),Date.now());function r(){i.removeClass("Visible"),setTimeout((function(){i.remove()}),500)}return{load:function(t){"piano"===t&&(o=Date.now(),i.appendTo("body"),setTimeout((function(){i.addClass("Visible")}),10))},resolve:function(){var t=Date.now()-o;t>700?r():setTimeout((function(){r()}),700-t)}}}.apply(e,n))||(t.exports=o)},7695:(t,e,i)=>{var n,o;n=[i(9755),i(1865),i(7987),i(6775),i(7384),i(4450)],void 0===(o=function(t,e,i,n,o,r){t("<div>",{id:"MetronomeButton",class:"Button icon-svg_metronome"}).appendTo("body").on("click",(function(t){t.preventDefault(),t.stopPropagation(),s.addClass("Visible"),f(),m.onopen()}));var s=t("<div>",{id:"Metronome"}).appendTo("body"),a=t("<div>",{id:"MetroWheel"}).appendTo(s),h=t("<input>",{value:120,"data-min":60,"data-max":200}).appendTo(a).data("width","80%"),l=(t("<div>",{id:"Checkbox",class:"Button"}).appendTo(a).on("click",(function(t){t.preventDefault(),t.stopPropagation(),m.onclose(),s.removeClass("Visible")})),t("<div>",{id:"WheelHandle",class:"Button"}).appendTo(a));t(window).resize((function(){h.trigger("configure",{width:a.width(),height:a.width()})})),h.knob({width:a.width(),height:a.width(),min:60,max:200,angleArc:270,angleOffset:225,thickness:.3,lineCap:"round",fgColor:"#ffb729",draw:function(){var t=this.arc(this.cv).e,e=this.o.thickness*this.o.width/4,i=Math.cos(t)*(this.w2-e)+this.w2,o=Math.sin(t)*(this.w2-e)+this.w2;l.css({left:i,top:o}),n.bpm.value=this.cv}}),t("<div>",{id:"Turtle",class:"Icon icon-svg_slow_man"}).appendTo(a),t("<div>",{id:"Rabbit",class:"Icon icon-svg_fast_man"}).appendTo(a);var p=t("<div>",{id:"Blinky"}).appendTo(l),u=new r({volume:-20,envelope:{attack:.008,decay:.01,sustain:0},octaves:5,pitchDecay:.1,oscillator:{type:"triangle"}}).toMaster();window.metroSynth=u;var c=new o({loopEnd:"4n",loop:!0,callback:function(t){s.hasClass("Visible")&&u.triggerAttack("C4",t)}}).add(0).start(),d=2*Math.PI;function f(){s.hasClass("Visible")&&("stopped"===n.state||p.css("opacity",(Math.sin(c.progress*d)+1)/2),requestAnimationFrame(f))}var m={onopen:function(){},onclose:function(){}};return m}.apply(e,n))||(t.exports=o)},7365:(t,e,i)=>{var n,o;n=[i(8859),i(5071),i(6864)],void 0===(o=function(t,e,i){var n=function(t,e){this.loaded=!1,this.instrument=t,this.player=new i("https://gweb-musiclab-site.appspot.com/static/sound/"+t,"C3","Gb6",3),this.player.onload=function(){console.log("here")}};return n.prototype.load=function(t){e.load(this.instrument),this.player.load(),this.player.onload=function(){t&&t(),e.resolve()}.bind(this)},n.prototype.play=function(t,e,i){this.player.loaded&&this.player.triggerAttackRelease(t,e,i)},n.prototype.isLoaded=function(){return this.player.loaded},n}.apply(e,n))||(t.exports=o)},6514:(t,e,i)=>{var n,o;n=[i(7365),i(4312),i(8859),i(1347),i(6910),i(6775),i(9755)],void 0===(o=function(t,e,i,n,o,r,s){var a=new t("harp"),h=new t("piano"),l=a;o.onpiano=function(){h.isLoaded()||h.load(),l=h},o.onharp=function(){a.isLoaded()||a.load(),l=a};var p=!1;return o.onmetroopen=function(){"stopped"===r.state&&(p=!0,s("body").addClass("MetronomeOpen"),r.start())},o.onmetroclose=function(){p&&(s("body").removeClass("MetronomeOpen"),r.stop(),p=!1)},{strum:function(t,n){for(var o=e[n][t],r=i.context.currentTime+i.prototype.blockTime,s=0;s<4;s++)this.play(o[s],r+.05*s,.5)},play:function(t,e,n){if(!p){var o=i.prototype.midiToNote(t);l.play(o,n,e)}},load:function(t){a.load(t)}}}.apply(e,n))||(t.exports=o)},745:(t,e,i)=>{(t.exports=i(9252)()).push([t.id,'#Chord{position:fixed;left:0px;right:0px;top:200px;bottom:0px;z-index:0;height:calc(100% - 200px);width:100%;min-width:300px;min-height:300px}@media (max-height: 500px){#Chord{top:160px;height:calc(100% - 160px)}}#Chord .Slice{cursor:pointer}#Chord #Wheel{position:absolute;top:50%;left:50%}#Chord #Wheel #Canvas,#Chord #Wheel #Letters,#Chord #Wheel #Interaction{width:100%;height:100%;position:absolute;left:0px;top:0px}#Chord #Wheel #Interaction{border-radius:50%;cursor:pointer}#Chord #Wheel #Letters .Letter{-webkit-touch-callout:none;user-select:none;pointer-events:none;color:white;font-family:"Quicksand";font-weight:700;position:absolute;text-align:center;transform:translate(-50%, -50%)}#Chord #Wheel #Letters .Letter span{font-size:0.5em;vertical-align:text-top}#Chord #Wheel #Letters .Major{font-size:20px;text-transform:uppercase}@media (max-width: 360px){#Chord #Wheel #Letters .Major{font-size:18px}}@media (min-width: 1440px){#Chord #Wheel #Letters .Major{font-size:2.5em}}#Chord #Wheel #Letters .Minor{font-size:18px;text-transform:lowercase}@media (max-width: 360px){#Chord #Wheel #Letters .Minor{font-size:16px}}@media (min-width: 1440px){#Chord #Wheel #Letters .Minor{font-size:2em}}#Chord #PlayButton{position:absolute;top:50%;left:50%;width:80px;height:80px;margin-left:-40px;margin-top:-40px;font-size:80px;line-height:80px;background-color:white;color:#646464}@media (max-width: 360px){#Chord #PlayButton{width:64px;height:64px;margin-left:-32px;margin-top:-32px;font-size:64px;line-height:64px}}\n',""])},2939:(t,e,i)=>{(t.exports=i(9252)()).push([t.id,"#Loading{opacity:0;position:absolute;width:100%;height:100%;top:0px;left:0px;z-index:1000000;pointer-events:none;line-height:300px;color:white;text-align:center;transition:opacity 0.2s}#Loading.Visible{background-color:white;background-position:center center;background-repeat:no-repeat;opacity:1;pointer-events:initial;transition:opacity 0.0s}#Loading.Visible .SpinContainer{position:absolute;top:50%;left:0px;height:100px;margin-top:-50px;width:100%}#Loading.Visible .SpinContainer .Icon{position:absolute;width:100%;top:-100%;left:0px;height:0px;font-size:100px;color:#646464;text-align:center}#Loading.Visible .SpinContainer .Spinner{position:absolute;top:0px;left:50%;margin-left:-50px;animation:rotation 1.4s linear infinite;stroke:#f2f2f2;width:100px;height:100px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}#Loading.Visible .Circle{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:turn 1.4s ease-in-out infinite}@keyframes turn{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}\n",""])},2633:(t,e,i)=>{(t.exports=i(9252)()).push([t.id,"#Metronome{background-color:white;z-index:100;position:absolute;width:100%;height:calc(100% - 200px);top:0px;transform:translate(0px, 200%);left:0px;opacity:0;pointer-events:none;transition:transform 0.2s ease-out}@media (max-height: 500px){#Metronome{height:calc(100% - 160px)}}#Metronome #Checkbox{position:absolute;top:50%;left:50%;width:120px;height:120px;margin-left:-60px;margin-top:-60px;background-image:url("+i(3941)+");background-size:100% 100%}#Metronome #Checkbox:active{background-image:url("+i(1417)+");background-color:#4bb250}#Metronome #MetroWheel{height:auto;width:300px;margin-left:-150px;margin-top:-150px;position:absolute;left:50%;top:50%}#Metronome #MetroWheel input{bottom:30px;font-size:18px !important;height:auto !important}@media (max-width: 360px){#Metronome #MetroWheel{width:250px;margin-left:-125px;margin-top:-125px}#Metronome #MetroWheel #WheelHandle{width:50px;margin-left:-25px;height:50px;margin-top:-25px}}#Metronome #MetroWheel #WheelHandle{position:absolute;left:0px;top:0px;width:60px;margin-left:-30px;height:60px;margin-top:-30px;background-color:white;pointer-events:none;z-index:100;cursor:pointer}#Metronome #MetroWheel #Blinky{position:absolute;width:40%;height:40%;pointer-events:none;background-color:#ffb729;border-radius:50%;left:30%;top:30%;opacity:0}#Metronome #MetroWheel .Icon{position:absolute;top:80%;height:45px;width:45px;background-size:auto 100%;background-position:center center;background-repeat:no-repeat;pointer-events:none;font-size:90px;line-height:45px;color:#646464;text-align:right}@media (max-height: 500px){#Metronome #MetroWheel .Icon{height:30px;width:30px;font-size:60px;line-height:30px}}@media (max-width: 360px){#Metronome #MetroWheel .Icon{height:30px;width:30px;font-size:60px;line-height:30px}}#Metronome #MetroWheel #Rabbit{right:10px}#Metronome #MetroWheel #Turtle{left:-40px}@media (max-height: 500px){#Metronome #MetroWheel #Turtle{left:-20px}}@media (max-width: 360px){#Metronome #MetroWheel #Turtle{left:-20px}}#Metronome.Visible{opacity:1;pointer-events:initial;transform:translate(0px, 202px)}@media (max-height: 500px){#Metronome.Visible{transform:translate(0px, 162px)}}\n",""])},4106:(t,e,i)=>{(t.exports=i(9252)()).push([t.id,"#Parts{background-color:white;width:calc(100% + 10px);height:200px;position:absolute;z-index:2;top:0px;left:-10px}@media (max-height: 500px){#Parts{height:160px}}#Parts #LoopPosition{width:4px;background-color:black;opacity:0.3;left:0px;height:100%;margin-left:-2px;position:absolute;top:0px;z-index:100}#Parts .Part{width:100%;height:200px;position:relative;box-shadow:inset 12px 0 7px -7px rgba(0,0,0,0.1)}@media (max-height: 500px){#Parts .Part{height:160px}}#Parts .Part .Note{margin-left:12px;margin-right:2px;width:0px;height:5px;position:absolute;background-color:white;transition:background-color .3s,top .3s}#Parts .Part .Note #Highlight{background-color:black;width:100%;height:100%;position:absolute;top:0px;left:0px;opacity:0}#Parts .Part .Note #Highlight.Active{opacity:1}#Parts .Part .Note:nth-child(1){transition-delay:.01667s}#Parts .Part .Note:nth-child(2){transition-delay:.03333s}#Parts .Part .Note:nth-child(3){transition-delay:.05s}#Parts .Part .Note:nth-child(4){transition-delay:.06667s}#Parts .Part .Note:nth-child(5){transition-delay:.08333s}#Parts .Part .Note:nth-child(6){transition-delay:.1s}#Parts .Part .Note:nth-child(7){transition-delay:.11667s}#Parts .Part .Note:nth-child(8){transition-delay:.13333s}#Parts .Part .Note:nth-child(9){transition-delay:.15s}#Parts .Part .Note:nth-child(10){transition-delay:.16667s}#Parts .Part .Note:nth-child(11){transition-delay:.18333s}#Parts .Part .Note:nth-child(12){transition-delay:.2s}#Parts .Part .Note:nth-child(13){transition-delay:.21667s}#Parts .Part .Note:nth-child(14){transition-delay:.23333s}#Parts .Part .Note:nth-child(15){transition-delay:.25s}#Parts .Part .Note:nth-child(16){transition-delay:.26667s}#Parts .Part .Note:nth-child(17){transition-delay:.28333s}#Parts .Part .Note:nth-child(18){transition-delay:.3s}#Parts .Part .Note:nth-child(19){transition-delay:.31667s}#Parts .Part .Note:nth-child(20){transition-delay:.33333s}#Parts .Part .Note:nth-child(21){transition-delay:.35s}#Parts .Part .Note:nth-child(22){transition-delay:.36667s}#Parts .Part .Note:nth-child(23){transition-delay:.38333s}#Parts .Part .Note:nth-child(24){transition-delay:.4s}#Parts .Part .Note:nth-child(25){transition-delay:.41667s}#Parts .Part .Note:nth-child(26){transition-delay:.43333s}#Parts .Part .Note:nth-child(27){transition-delay:.45s}#Parts .Part .Note:nth-child(28){transition-delay:.46667s}#Parts .Part .Note:nth-child(29){transition-delay:.48333s}#Parts .Part .Note:nth-child(30){transition-delay:.5s}#Parts .Part .Note:nth-child(31){transition-delay:.51667s}#Parts .Part .Note:nth-child(32){transition-delay:.53333s}#Parts .Part .Note:nth-child(33){transition-delay:.55s}#Parts .Part .Note:nth-child(34){transition-delay:.56667s}#Parts .Part .Note:nth-child(35){transition-delay:.58333s}#Parts .Part .Note:nth-child(36){transition-delay:.6s}#Parts .Part .Note:nth-child(37){transition-delay:.61667s}#Parts .Part .Note:nth-child(38){transition-delay:.63333s}#Parts .Part .Note:nth-child(39){transition-delay:.65s}#Parts .Part .Note:nth-child(40){transition-delay:.66667s}#Parts .slick-arrow{position:absolute;top:calc(100% + 12px);border:none;color:#646464;font-size:0px}#Parts .slick-arrow:before{top:0px;position:absolute;left:0px;font-size:60px;width:100%;text-align:center}@media screen and (max-width: 360px){#Parts .slick-arrow:before{font-size:45px}}#Parts .slick-disabled{opacity:0.5;pointer-events:none}#Parts .slick-prev{left:22px}#Parts .slick-next{right:12px}.MetronomeOpen #Parts .Part #Highlight{opacity:0 !important}.MetronomeOpen #LoopPosition{left:0px !important}\n",""])},3719:(t,e,i)=>{(t.exports=i(9252)()).push([t.id,"#PianoHarp{position:absolute;bottom:12px;left:12px;z-index:3}#MetronomeButton{position:absolute;bottom:12px;right:12px;z-index:3}\n",""])},531:(t,e,i)=>{var n=i(745);"string"==typeof n&&(n=[[t.id,n,""]]),i(4246)(n,{}),n.locals&&(t.exports=n.locals)},8975:(t,e,i)=>{var n=i(2939);"string"==typeof n&&(n=[[t.id,n,""]]),i(4246)(n,{}),n.locals&&(t.exports=n.locals)},1865:(t,e,i)=>{var n=i(2633);"string"==typeof n&&(n=[[t.id,n,""]]),i(4246)(n,{}),n.locals&&(t.exports=n.locals)},4789:(t,e,i)=>{var n=i(4106);"string"==typeof n&&(n=[[t.id,n,""]]),i(4246)(n,{}),n.locals&&(t.exports=n.locals)},3768:(t,e,i)=>{var n=i(3719);"string"==typeof n&&(n=[[t.id,n,""]]),i(4246)(n,{}),n.locals&&(t.exports=n.locals)},7927:(t,e,i)=>{var n,o;n=[i(1826),i(2898),i(8798)],void 0===(o=function(t){"use strict";return t.AmplitudeEnvelope=function(){t.Envelope.apply(this,arguments),this.input=this.output=new t.Gain,this._sig.connect(this.output.gain)},t.extend(t.AmplitudeEnvelope,t.Envelope),t.AmplitudeEnvelope.prototype.dispose=function(){return this.input.dispose(),this.input=null,t.Envelope.prototype.dispose.call(this),this},t.AmplitudeEnvelope}.apply(e,n))||(t.exports=o)},2898:(t,e,i)=>{var n,o;n=[i(1826),i(5888),i(9949),i(8859)],void 0===(o=function(t){"use strict";return t.Envelope=function(){var e=this.optionsObject(arguments,["attack","decay","sustain","release"],t.Envelope.defaults);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this._attackCurve=t.Envelope.Type.Linear,this._releaseCurve=t.Envelope.Type.Exponential,this._minOutput=1e-5,this._sig=this.output=new t.TimelineSignal,this._sig.setValueAtTime(0,0),this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve},t.extend(t.Envelope),t.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",releaseCurve:"exponential"},Object.defineProperty(t.Envelope.prototype,"value",{get:function(){return this._sig.value}}),Object.defineProperty(t.Envelope.prototype,"attackCurve",{get:function(){return this._attackCurve},set:function(e){if(e!==t.Envelope.Type.Linear&&e!==t.Envelope.Type.Exponential)throw Error('attackCurve must be either "linear" or "exponential". Invalid type: ',e);this._attackCurve=e}}),Object.defineProperty(t.Envelope.prototype,"releaseCurve",{get:function(){return this._releaseCurve},set:function(e){if(e!==t.Envelope.Type.Linear&&e!==t.Envelope.Type.Exponential)throw Error('releaseCurve must be either "linear" or "exponential". Invalid type: ',e);this._releaseCurve=e}}),t.Envelope.prototype.triggerAttack=function(e,i){var n=this.now()+this.blockTime;e=this.toSeconds(e,n);var o=this.toSeconds(this.attack),r=this.toSeconds(this.decay);i=this.defaultArg(i,1);var s=this.getValueAtTime(e);return s>0&&(o=(1-s)/(1/o)),o+=e,this._attackCurve===t.Envelope.Type.Linear?this._sig.linearRampToValueBetween(i,e,o):this._sig.exponentialRampToValueBetween(i,e,o),this._sig.exponentialRampToValueBetween(i*this.sustain,o+this.sampleTime,o+r),this},t.Envelope.prototype.triggerRelease=function(e){var i=this.now()+this.blockTime;if(e=this.toSeconds(e,i),this.getValueAtTime(e)>0){var n=this.toSeconds(this.release);this._releaseCurve===t.Envelope.Type.Linear?this._sig.linearRampToValueBetween(0,e,e+n):this._sig.exponentialRampToValueBetween(0,e,n+e)}return this},t.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},t.Envelope.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this},t.Envelope.prototype.connect=t.Signal.prototype.connect,t.Envelope.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this},t.Envelope.Type={Linear:"linear",Exponential:"exponential"},t.Envelope}.apply(e,n))||(t.exports=o)},4926:(t,e,i)=>{var n,o;n=[i(1826),i(3596),i(8798)],void 0===(o=function(t){"use strict";return t.Volume=function(){var e=this.optionsObject(arguments,["volume"],t.Volume.defaults);this.output=this.input=new t.Gain(e.volume,t.Type.Decibels),this.volume=this.output.gain,this._readOnly("volume")},t.extend(t.Volume),t.Volume.defaults={volume:0},t.Volume.prototype.dispose=function(){return this.input.dispose(),t.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},t.Volume}.apply(e,n))||(t.exports=o)},1115:(t,e,i)=>{var n,o;n=[i(1826),i(9846)],void 0===(o=function(t){"use strict";return t.Buffer=function(){var e=this.optionsObject(arguments,["url","onload"],t.Buffer.defaults);this._buffer=null,this._reversed=e.reverse,this.url=void 0,this.loaded=!1,this.onload=e.onload.bind(this,this),e.url instanceof AudioBuffer||e.url instanceof t.Buffer?(this.set(e.url),this.onload(this)):this.isString(e.url)&&(this.url=e.url,t.Buffer._addToQueue(e.url,this))},t.extend(t.Buffer),t.Buffer.defaults={url:void 0,onload:t.noOp,reverse:!1},t.Buffer.prototype.set=function(e){return e instanceof t.Buffer?this._buffer=e.get():this._buffer=e,this.loaded=!0,this},t.Buffer.prototype.get=function(){return this._buffer},t.Buffer.prototype.load=function(e,i){return this.url=e,this.onload=this.defaultArg(i,this.onload),t.Buffer._addToQueue(e,this),this},t.Buffer.prototype.dispose=function(){return t.prototype.dispose.call(this),t.Buffer._removeFromQueue(this),this._buffer=null,this.onload=t.Buffer.defaults.onload,this},Object.defineProperty(t.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),t.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this._buffer.numberOfChannels;t++)Array.prototype.reverse.call(this._buffer.getChannelData(t));return this},Object.defineProperty(t.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),t.Emitter.mixin(t.Buffer),t.Buffer._queue=[],t.Buffer._currentDownloads=[],t.Buffer._totalDownloads=0,t.Buffer.MAX_SIMULTANEOUS_DOWNLOADS=6,t.Buffer._addToQueue=function(e,i){t.Buffer._queue.push({url:e,Buffer:i,progress:0,xhr:null}),this._totalDownloads++,t.Buffer._next()},t.Buffer._removeFromQueue=function(e){var i;for(i=0;i<t.Buffer._queue.length;i++)t.Buffer._queue[i].Buffer===e&&t.Buffer._queue.splice(i,1);for(i=0;i<t.Buffer._currentDownloads.length;i++){var n=t.Buffer._currentDownloads[i];n.Buffer===e&&(t.Buffer._currentDownloads.splice(i,1),n.xhr.abort(),n.xhr.onprogress=null,n.xhr.onload=null,n.xhr.onerror=null)}},t.Buffer._next=function(){if(t.Buffer._queue.length>0){if(t.Buffer._currentDownloads.length<t.Buffer.MAX_SIMULTANEOUS_DOWNLOADS){var e=t.Buffer._queue.shift();t.Buffer._currentDownloads.push(e),e.xhr=t.Buffer.load(e.url,(function(i){var n=t.Buffer._currentDownloads.indexOf(e);t.Buffer._currentDownloads.splice(n,1),e.Buffer.set(i),e.Buffer._reversed&&e.Buffer._reverse(),e.Buffer.onload(e.Buffer),t.Buffer._onprogress(),t.Buffer._next()})),e.xhr.onprogress=function(i){e.progress=i.loaded/i.total,t.Buffer._onprogress()},e.xhr.onerror=function(e){t.Buffer.trigger("error",e)}}}else 0===t.Buffer._currentDownloads.length&&(t.Buffer.trigger("load"),t.Buffer._totalDownloads=0)},t.Buffer._onprogress=function(){var e=0,i=t.Buffer._currentDownloads.length,n=0;if(i>0){for(var o=0;o<i;o++)e+=t.Buffer._currentDownloads[o].progress;n=e}var r=i-n,s=t.Buffer._totalDownloads-t.Buffer._queue.length-r;t.Buffer.trigger("progress",s/t.Buffer._totalDownloads)},t.Buffer.load=function(e,i){var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){t.context.decodeAudioData(n.response,(function(t){if(!t)throw new Error("could not decode audio data:"+e);i(t)}))},n.send(),n},t.Buffer}.apply(e,n))||(t.exports=o)},7407:(t,e,i)=>{var n,o;n=[i(1826),i(5888),i(5737)],void 0===(o=function(t){"use strict";return t.Clock=function(){var e=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=e.callback,this._lookAhead="auto",this._computedLookAhead=1/60,this._threshold=.5,this._nextTick=-1,this._lastUpdate=0,this._loopID=-1,this.frequency=new t.TimelineSignal(e.frequency,t.Type.Frequency),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this._readOnly("frequency"),this._loop()},t.extend(t.Clock),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getStateAtTime(this.now())}}),Object.defineProperty(t.Clock.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(t){this._lookAhead="auto"===t?"auto":this.toSeconds(t)}}),t.Clock.prototype.start=function(e,i){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Started&&this._state.addEvent({state:t.State.Started,time:e,offset:i}),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Stopped&&this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(e){if(this._loopID=requestAnimationFrame(this._boundLoop),"auto"===this._lookAhead){if(!this.isUndef(e)){var i=(e-this._lastUpdate)/1e3;this._lastUpdate=e,i<this._threshold&&(this._computedLookAhead=(9*this._computedLookAhead+i)/10)}}else this._computedLookAhead=this._lookAhead;var n=this.now(),o=2*this._computedLookAhead,r=this._state.getEvent(n+o),s=t.State.Stopped;if(r&&(s=r.state,-1===this._nextTick&&s===t.State.Started&&(this._nextTick=r.time,this.isUndef(r.offset)||(this.ticks=r.offset))),s===t.State.Started)for(;n+o>this._nextTick;){n>this._nextTick+this._threshold&&(this._nextTick=n);var a=this._nextTick;this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),this.callback(a),this.ticks++}else s===t.State.Stopped&&(this._nextTick=-1,this.ticks=0)},t.Clock.prototype.getStateAtTime=function(t){return this._state.getStateAtTime(t)},t.Clock.prototype.dispose=function(){cancelAnimationFrame(this._loopID),t.TimelineState.prototype.dispose.call(this),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=t.noOp,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}.apply(e,n))||(t.exports=o)},9846:(t,e,i)=>{var n,o;n=[i(1826)],void 0===(o=function(t){"use strict";return t.Emitter=function(){this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var i=t.split(/\W+/),n=0;n<i.length;n++){var o=i[n];this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(e)}return this},t.Emitter.prototype.off=function(e,i){for(var n=e.split(/\W+/),o=0;o<n.length;o++)if(e=n[o],this._events.hasOwnProperty(e))if(t.prototype.isUndef(i))this._events[e]=[];else for(var r=this._events[e],s=0;s<r.length;s++)r[s]===i&&r.splice(s,1);return this},t.Emitter.prototype.trigger=function(t){if(this._events){var e=Array.prototype.slice.call(arguments,1);if(this._events.hasOwnProperty(t))for(var i=this._events[t],n=0,o=i.length;n<o;n++)i[n].apply(this,e)}return this},t.Emitter.mixin=function(e){var i=["on","off","trigger"];e._events={};for(var n=0;n<i.length;n++){var o=i[n],r=t.Emitter.prototype[o];e[o]=r}},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}.apply(e,n))||(t.exports=o)},8798:(t,e,i)=>{var n,o;n=[i(1826),i(5247),i(8859)],void 0===(o=function(t){"use strict";return t.Gain=function(){var e=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.Gain}.apply(e,n))||(t.exports=o)},4255:(t,e,i)=>{var n,o;n=[i(1826),i(8859)],void 0===(o=function(t){"use strict";t.IntervalTimeline=function(){this._root=null,this._length=0},t.extend(t.IntervalTimeline),t.IntervalTimeline.prototype.addEvent=function(t){if(this.isUndef(t.time)||this.isUndef(t.duration))throw new Error("events must have time and duration parameters");var i=new e(t.time,t.time+t.duration,t);for(null===this._root?this._root=i:this._root.insert(i),this._length++;null!==i;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this},t.IntervalTimeline.prototype.removeEvent=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var i=0;i<e.length;i++){var n=e[i];if(n.event===t){this._removeNode(n),this._length--;break}}}return this},Object.defineProperty(t.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),t.IntervalTimeline.prototype.cancel=function(t){return t=this.toSeconds(t),this.forEachAfter(t,function(t){this.removeEvent(t)}.bind(this)),this},t.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},t.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},t.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,i;if(t.getBalance()>0)if(null===t.left.right)(e=t.left).right=t.right,i=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,i=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,i=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent=e.parent,e.parent.left=e.right,i=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(i)}t.dispose()},t.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,i=t.isLeftChild(),n=t.right;t.right=n.left,n.left=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},t.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,i=t.isLeftChild(),n=t.left;t.left=n.right,n.right=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},t.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},t.IntervalTimeline.prototype.getEvent=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var i=e[0],n=1;n<e.length;n++)e[n].low>i.low&&(i=e[n]);return i.event}}return null},t.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];null!==this._root&&this._root.traverse((function(t){e.push(t)}));for(var i=0;i<e.length;i++){var n=e[i].event;n&&t(n)}}return this},t.IntervalTimeline.prototype.forEachOverlap=function(t,e){if(t=this.toSeconds(t),null!==this._root){var i=[];this._root.search(t,i);for(var n=i.length-1;n>=0;n--){var o=i[n].event;o&&e(o)}}return this},t.IntervalTimeline.prototype.forEachAfter=function(t,e){if(t=this.toSeconds(t),null!==this._root){var i=[];this._root.searchAfter(t,i);for(var n=i.length-1;n>=0;n--){var o=i[n].event;o&&e(o)}}return this},t.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse((function(e){t.push(e)}));for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var e=function(t,e,i){this.event=i,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};return e.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},e.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>=t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},e.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},e.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},e.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},e.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},e.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},e.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),e.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},t.IntervalTimeline}.apply(e,n))||(t.exports=o)},1347:(t,e,i)=>{var n,o;n=[i(1826),i(4926)],void 0===(o=function(t){"use strict";t.Master=function(){t.call(this),this._unmutedVolume=1,this._muted=!1,this._volume=this.output=new t.Volume,this.volume=this._volume.volume,this._readOnly("volume"),this.input.chain(this.output,this.context.destination)},t.extend(t.Master),t.Master.defaults={volume:0,mute:!1},Object.defineProperty(t.Master.prototype,"mute",{get:function(){return this._muted},set:function(t){!this._muted&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this._muted&&!t&&(this.volume.value=this._unmutedVolume),this._muted=t}}),t.Master.prototype.chain=function(){this.input.disconnect(),this.input.chain.apply(this.input,arguments),arguments[arguments.length-1].connect(this.output)},t.Master.prototype.dispose=function(){t.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},t.prototype.toMaster=function(){return this.connect(t.Master),this},AudioNode.prototype.toMaster=function(){return this.connect(t.Master),this};var e=t.Master;return t._initAudioContext((function(){t.prototype.isUndef(t.Master)?(e.prototype.dispose.call(t.Master),e.call(t.Master)):t.Master=new e})),t.Master}.apply(e,n))||(t.exports=o)},5247:(t,e,i)=>{var n,o;n=[i(1826),i(8859)],void 0===(o=function(t){"use strict";return t.Param=function(){var e=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._param.value=e}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){return(this.convert||this.isUndef(this.convert))&&this.units===t.Type.Decibels?this.gainToDb(e):e},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.setValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.setRampPoint=function(t){t=this.defaultArg(t,this.now());var e=this._param.value;return this._param.setValueAtTime(e,t),this},t.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),this._param.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValue=function(t,e){var i=this.now(),n=this.value;return this.setValueAtTime(Math.max(n,this._minOutput),i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this},t.Param.prototype.linearRampToValue=function(t,e){var i=this.now();return this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,i){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),i=Math.max(this._minOutput,i),this._param.setTargetAtTime(t,this.toSeconds(e),i),this},t.Param.prototype.setValueCurveAtTime=function(t,e,i){for(var n=0;n<t.length;n++)t[n]=this._fromUnits(t[n]);return this._param.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(i)),this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.rampTo=function(e,i){return i=this.defaultArg(i,0),this.units===t.Type.Frequency||this.units===t.Type.BPM?this.exponentialRampToValue(e,i):this.linearRampToValue(e,i),this},t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this},t.Param}.apply(e,n))||(t.exports=o)},5327:(t,e,i)=>{var n,o;n=[i(1826),i(8859)],void 0===(o=function(t){"use strict";return t.Timeline=function(){var e=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.addEvent=function(t){if(this.isUndef(t.time))throw new Error("events must have a time attribute");if(t.time=this.toSeconds(t.time),this._timeline.length){var e=this._search(t.time);this._timeline.splice(e+1,0,t)}else this._timeline.push(t);if(this.length>this.memory){var i=this.length-this.memory;this._timeline.splice(0,i)}return this},t.Timeline.prototype.removeEvent=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);-1!==e&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.getEvent=function(t){t=this.toSeconds(t);var e=this._search(t);return-1!==e?this._timeline[e]:null},t.Timeline.prototype.getEventAfter=function(t){t=this.toSeconds(t);var e=this._search(t);return e+1<this._timeline.length?this._timeline[e+1]:null},t.Timeline.prototype.getEventBefore=function(t){t=this.toSeconds(t);var e=this._search(t);return e-1>=0?this._timeline[e-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){t=this.toSeconds(t);var e=this._search(t);this._timeline=e>=0?this._timeline.slice(0,e):[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){if(this._timeline.length){t=this.toSeconds(t);var e=this._search(t);e>=0&&(this._timeline=this._timeline.slice(e+1))}return this},t.Timeline.prototype._search=function(t){for(var e=0,i=this._timeline.length,n=i;e<=n&&e<i;){var o=Math.floor(e+(n-e)/2),r=this._timeline[o];if(r.time===t){for(var s=o;s<this._timeline.length;s++)this._timeline[s].time===t&&(o=s);return o}r.time>t?n=o-1:r.time<t&&(e=o+1)}return e-1},t.Timeline.prototype._iterate=function(t,e,i){this._iterating=!0,e=this.defaultArg(e,0),i=this.defaultArg(i,this._timeline.length-1);for(var n=e;n<=i;n++)t(this._timeline[n]);if(this._iterating=!1,this._toRemove.length>0){for(var o=0;o<this._toRemove.length;o++){var r=this._timeline.indexOf(this._toRemove[o]);-1!==r&&this._timeline.splice(r,1)}this._toRemove=[]}},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){t=this.toSeconds(t);var i=this._search(t);return-1!==i&&this._iterate(e,0,i),this},t.Timeline.prototype.forEachAfter=function(t,e){t=this.toSeconds(t);var i=this._search(t);return this._iterate(e,i+1),this},t.Timeline.prototype.forEachFrom=function(t,e){t=this.toSeconds(t);for(var i=this._search(t);i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){t=this.toSeconds(t);var i=this._search(t);return-1!==i&&this._iterate((function(i){i.time===t&&e(i)}),0,i),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}.apply(e,n))||(t.exports=o)},5737:(t,e,i)=>{var n,o;n=[i(1826),i(5327),i(8859)],void 0===(o=function(t){"use strict";return t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getStateAtTime=function(t){var e=this.getEvent(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){this.addEvent({state:t,time:this.toSeconds(e)})},t.TimelineState}.apply(e,n))||(t.exports=o)},6775:(t,e,i)=>{var n,o;n=[i(1826),i(7407),i(8859),i(5327),i(9846),i(8798),i(4255)],void 0===(o=function(t){"use strict";t.Transport=function(){t.Emitter.call(this),this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=e.defaults.PPQ,this._clock=new t.Clock({callback:this._processTick.bind(this),frequency:0}),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=t.Type.BPM,this.bpm.value=e.defaults.bpm,this._readOnly("bpm"),this._timeSignature=e.defaults.timeSignature,this._scheduledEvents={},this._eventID=0,this._timeline=new t.Timeline,this._repeatedEvents=new t.IntervalTimeline,this._onceEvents=new t.Timeline,this._syncedSignals=[];var i=this.notationToSeconds(e.defaults.swingSubdivision,e.defaults.bpm,e.defaults.timeSignature);this._swingTicks=i/(60/e.defaults.bpm)*this._ppq,this._swingAmount=0},t.extend(t.Transport,t.Emitter),t.Transport.defaults={bpm:120,swing:0,swingSubdivision:"16n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:48},t.Transport.prototype._processTick=function(t){this._swingAmount>0&&this._clock.ticks%this._ppq!=0&&this._clock.ticks%this._swingTicks==0&&(t+=this.ticksToSeconds(this._swingTicks)*this._swingAmount),this.loop&&this._clock.ticks===this._loopEnd&&(this.ticks=this._loopStart,this.trigger("loop",t));var e=this._clock.ticks;this._timeline.forEachAtTime(e,(function(e){e.callback(t)})),this._repeatedEvents.forEachOverlap(e,(function(i){(e-i.time)%i.interval==0&&i.callback(t)})),this._onceEvents.forEachBefore(e,(function(e){e.callback(t)})),this._onceEvents.cancelBefore(e)},t.Transport.prototype.schedule=function(t,e){var i={time:this.toTicks(e),callback:t},n=this._eventID++;return this._scheduledEvents[n.toString()]={event:i,timeline:this._timeline},this._timeline.addEvent(i),n},t.Transport.prototype.scheduleRepeat=function(t,e,i,n){if(e<=0)throw new Error("repeat events must have an interval larger than 0");var o={time:this.toTicks(i),duration:this.toTicks(this.defaultArg(n,1/0)),interval:this.toTicks(e),callback:t},r=this._eventID++;return this._scheduledEvents[r.toString()]={event:o,timeline:this._repeatedEvents},this._repeatedEvents.addEvent(o),r},t.Transport.prototype.scheduleOnce=function(t,e){var i={time:this.toTicks(e),callback:t},n=this._eventID++;return this._scheduledEvents[n.toString()]={event:i,timeline:this._onceEvents},this._onceEvents.addEvent(i),n},t.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.removeEvent(e.event),delete this._scheduledEvents[t.toString()]}return this},t.Transport.prototype.cancel=function(t){return t=this.defaultArg(t,0),t=this.toTicks(t),this._timeline.cancel(t),this._onceEvents.cancel(t),this._repeatedEvents.cancel(t),this},t.Transport.prototype.quantize=function(e,i){i=this.defaultArg(i,"4n");var n=this.toTicks(e),o=(i=this.toTicks(i))-n%i;o===i&&(o=0);var r=this.now();return this.state===t.State.Started&&(r=this._clock._nextTick),this.toSeconds(e,r)+this.ticksToSeconds(o)},Object.defineProperty(t.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),t.Transport.prototype.start=function(t,e){return t=this.toSeconds(t),e=this.isUndef(e)?this.defaultArg(e,this._clock.ticks):this.toTicks(e),this._clock.start(t,e),this.trigger("start",t,this.ticksToSeconds(e)),this},t.Transport.prototype.stop=function(t){return t=this.toSeconds(t),this._clock.stop(t),this.trigger("stop",t),this},t.Transport.prototype.pause=function(t){return t=this.toSeconds(t),this._clock.pause(t),this.trigger("pause",t),this},Object.defineProperty(t.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){this.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(t.Transport.prototype,"loopStart",{get:function(){return this.ticksToSeconds(this._loopStart)},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"loopEnd",{get:function(){return this.ticksToSeconds(this._loopEnd)},set:function(t){this._loopEnd=this.toTicks(t)}}),t.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Transport.prototype,"swing",{get:function(){return 2*this._swingAmount},set:function(t){this._swingAmount=.5*t}}),Object.defineProperty(t.Transport.prototype,"swingSubdivision",{get:function(){return this.toNotation(this._swingTicks+"i")},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"position",{get:function(){var t=this.ticks/this._ppq,e=Math.floor(t/this._timeSignature),i=t%1*4;return i%1>0&&(i=i.toFixed(3)),[e,t=Math.floor(t)%this._timeSignature,i].join(":")},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"progress",{get:function(){return this.loop?(this.ticks-this._loopStart)/(this._loopEnd-this._loopStart):0}}),Object.defineProperty(t.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){this._clock.ticks=t}}),Object.defineProperty(t.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){this._ppq=t,this.bpm.value=this.bpm.value}}),t.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},t.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},t.Transport.prototype.syncSignal=function(e,i){i||(i=0!==e._param.value?e._param.value/this.bpm._param.value:0);var n=new t.Gain(i);return this.bpm.chain(n,e._param),this._syncedSignals.push({ratio:n,signal:e,initial:e._param.value}),e._param.value=0,this},t.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var i=this._syncedSignals[e];i.signal===t&&(i.ratio.dispose(),i.signal._param.value=i.initial,this._syncedSignals.splice(e,1))}return this},t.Transport.prototype.dispose=function(){return t.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._onceEvents.dispose(),this._onceEvents=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var e=t.Transport;return t._initAudioContext((function(){if("function"==typeof t.Transport)t.Transport=new t.Transport;else{t.Transport.stop();var i=t.Transport.get();t.Transport.dispose(),e.call(t.Transport),t.Transport.set(i)}})),t.Transport}.apply(e,n))||(t.exports=o)},8859:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1826)],__WEBPACK_AMD_DEFINE_RESULT__=function(Tone){"use strict";var nowRelative,tickFormat,notationFormat,transportTimeFormat,noteFormat,freqFormat;function getTransportBpm(){return Tone.Transport&&Tone.Transport.bpm?Tone.Transport.bpm.value:120}function getTransportTimeSignature(){return Tone.Transport&&Tone.Transport.timeSignature?Tone.Transport.timeSignature:4}function toNotationHelper(t,e,i,n){for(var o=this.toSeconds(t),r=this.notationToSeconds(n[n.length-1],e,i),s="",a=0;a<n.length;a++){var h=this.notationToSeconds(n[a],e,i),l=o/h,p=1e-6;if(1-l%1<p&&(l+=p),(l=Math.floor(l))>0){if(s+=1===l?n[a]:l.toString()+"*"+n[a],(o-=l*h)<r)break;s+=" + "}}return""===s&&(s="0"),s}Tone.Type={Default:"number",Time:"time",Frequency:"frequency",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",TransportTime:"transportTime",Ticks:"tick",Note:"note",Milliseconds:"milliseconds",Notation:"notation"},Tone.prototype.isNowRelative=(nowRelative=new RegExp(/^\s*\+(.)+/i),function(t){return nowRelative.test(t)}),Tone.prototype.isTicks=(tickFormat=new RegExp(/^\d+i$/i),function(t){return tickFormat.test(t)}),Tone.prototype.isNotation=(notationFormat=new RegExp(/^[0-9]+[mnt]$/i),function(t){return notationFormat.test(t)}),Tone.prototype.isTransportTime=(transportTimeFormat=new RegExp(/^(\d+(\.\d+)?\:){1,2}(\d+(\.\d+)?)?$/i),function(t){return transportTimeFormat.test(t)}),Tone.prototype.isNote=(noteFormat=new RegExp(/^[a-g]{1}(b|#|x|bb)?-?[0-9]+$/i),function(t){return noteFormat.test(t)}),Tone.prototype.isFrequency=(freqFormat=new RegExp(/^\d*\.?\d+hz$/i),function(t){return freqFormat.test(t)}),Tone.prototype.notationToSeconds=function(t,e,i){e=this.defaultArg(e,getTransportBpm()),i=this.defaultArg(i,getTransportTimeSignature());var n=60/e;"1n"===t&&(t="1m");var o=parseInt(t,10),r=t.slice(-1);return n*("t"===r?4/o*2/3:"n"===r?4/o:"m"===r?o*i:0)},Tone.prototype.transportTimeToSeconds=function(t,e,i){e=this.defaultArg(e,getTransportBpm()),i=this.defaultArg(i,getTransportTimeSignature());var n=0,o=0,r=0,s=t.split(":");return 2===s.length?(n=parseFloat(s[0]),o=parseFloat(s[1])):1===s.length?o=parseFloat(s[0]):3===s.length&&(n=parseFloat(s[0]),o=parseFloat(s[1]),r=parseFloat(s[2])),(n*i+o+r/4)*(60/e)},Tone.prototype.ticksToSeconds=function(t,e){return this.isUndef(Tone.Transport)?0:(t=parseFloat(t),60/(e=this.defaultArg(e,getTransportBpm()))/Tone.Transport.PPQ*t)},Tone.prototype.frequencyToSeconds=function(t){return 1/parseFloat(t)},Tone.prototype.samplesToSeconds=function(t){return t/this.context.sampleRate},Tone.prototype.secondsToSamples=function(t){return t*this.context.sampleRate},Tone.prototype.secondsToTransportTime=function(t,e,i){e=this.defaultArg(e,getTransportBpm()),i=this.defaultArg(i,getTransportTimeSignature());var n=t/(60/e),o=n%1*4;return[Math.floor(n/i),n=Math.floor(n)%i,o].join(":")},Tone.prototype.secondsToFrequency=function(t){return 1/t},Tone.prototype.toTransportTime=function(t,e,i){var n=this.toSeconds(t);return this.secondsToTransportTime(n,e,i)},Tone.prototype.toFrequency=function(t,e){return this.isFrequency(t)?parseFloat(t):this.isNotation(t)||this.isTransportTime(t)?this.secondsToFrequency(this.toSeconds(t,e)):this.isNote(t)?this.noteToFrequency(t):t},Tone.prototype.toTicks=function(t){if(this.isUndef(Tone.Transport))return 0;var e=Tone.Transport.bpm.value,i=0;if(this.isNowRelative(t))t=t.replace("+",""),i=Tone.Transport.ticks;else if(this.isUndef(t))return Tone.Transport.ticks;var n=this.toSeconds(t)/(60/e)*Tone.Transport.PPQ;return Math.round(n+i)},Tone.prototype.toSamples=function(t){var e=this.toSeconds(t);return Math.round(e*this.context.sampleRate)},Tone.prototype.toSeconds=function(time,now){if(now=this.defaultArg(now,this.now()),this.isNumber(time))return time;if(this.isString(time)){var plusTime=0;this.isNowRelative(time)&&(time=time.replace("+",""),plusTime=now);var betweenParens=time.match(/\(([^)(]+)\)/g);if(betweenParens)for(var j=0;j<betweenParens.length;j++){var symbol=betweenParens[j].replace(/[\(\)]/g,""),symbolVal=this.toSeconds(symbol);time=time.replace(betweenParens[j],symbolVal)}if(-1!==time.indexOf("@")){var quantizationSplit=time.split("@");if(this.isUndef(Tone.Transport))throw new Error("quantization requires Tone.Transport");var toQuantize=quantizationSplit[0].trim();""===toQuantize&&(toQuantize=void 0),plusTime>0&&(toQuantize="+"+toQuantize,plusTime=0);var subdivision=quantizationSplit[1].trim();time=Tone.Transport.quantize(toQuantize,subdivision)}else{var components=time.split(/[\(\)\-\+\/\*]/);if(components.length>1){for(var originalTime=time,i=0;i<components.length;i++){var symb=components[i].trim();if(""!==symb){var val=this.toSeconds(symb);time=time.replace(symb,val)}}try{time=eval(time)}catch(t){throw new EvalError("cannot evaluate Time: "+originalTime)}}else time=this.isNotation(time)?this.notationToSeconds(time):this.isTransportTime(time)?this.transportTimeToSeconds(time):this.isFrequency(time)?this.frequencyToSeconds(time):this.isTicks(time)?this.ticksToSeconds(time):parseFloat(time)}return time+plusTime}return now},Tone.prototype.toNotation=function(t,e,i){var n=toNotationHelper.call(this,t,e,i,["1m","2n","4n","8n","16n","32n","64n","128n"]),o=toNotationHelper.call(this,t,e,i,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return o.split("+").length<n.split("+").length?o:n},Tone.prototype.fromUnits=function(t,e){if(!this.convert&&!this.isUndef(this.convert))return t;switch(e){case Tone.Type.Time:return this.toSeconds(t);case Tone.Type.Frequency:return this.toFrequency(t);case Tone.Type.Decibels:return this.dbToGain(t);case Tone.Type.NormalRange:return Math.min(Math.max(t,0),1);case Tone.Type.AudioRange:return Math.min(Math.max(t,-1),1);case Tone.Type.Positive:return Math.max(t,0);default:return t}},Tone.prototype.toUnits=function(t,e){return(this.convert||this.isUndef(this.convert))&&e===Tone.Type.Decibels?this.gainToDb(t):t};var noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return Tone.A4=440,Tone.prototype.noteToFrequency=function(t){var e=t.split(/(-?\d+)/);if(3===e.length){var i=noteToScaleIndex[e[0].toLowerCase()],n=e[1],o=i+12*(parseInt(n,10)+1);return this.midiToFrequency(o)}return 0},Tone.prototype.frequencyToNote=function(t){var e=Math.log(t/Tone.A4)/Math.LN2,i=Math.round(12*e)+57,n=Math.floor(i/12);return n<0&&(i+=-12*n),scaleIndexToNote[i%12]+n.toString()},Tone.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},Tone.prototype.midiToNote=function(t){var e=Math.floor(t/12)-1;return scaleIndexToNote[t%12]+e},Tone.prototype.noteToMidi=function(t){var e=t.split(/(\d+)/);if(3===e.length){var i=noteToScaleIndex[e[0].toLowerCase()],n=e[1];return i+12*(parseInt(n,10)+1)}return 0},Tone.prototype.midiToFrequency=function(t){return Tone.A4*Math.pow(2,(t-69)/12)},Tone}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},732:(t,e,i)=>{var n,o;n=[i(1826),i(6775),i(8859),i(5737)],void 0===(o=function(t){"use strict";return t.Event=function(){var e=this.optionsObject(arguments,["callback","value"],t.Event.defaults);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._state=new t.TimelineState(t.State.Stopped),this._playbackRate=1,this._startOffset=0,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate},t.extend(t.Event),t.Event.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},t.Event.prototype._rescheduleEvents=function(e){return e=this.defaultArg(e,-1),this._state.forEachFrom(e,function(e){var i;if(e.state===t.State.Started){this.isUndef(e.id)||t.Transport.clear(e.id);var n=e.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){i=1/0,this.isNumber(this._loop)&&(i=(this._loop-1)*this._getLoopDuration());var o=this._state.getEventAfter(n);null!==o&&(i=Math.min(i,o.time-n)),i!==1/0&&(this._state.setStateAtTime(t.State.Stopped,n+i+1),i+="i"),e.id=t.Transport.scheduleRepeat(this._tick.bind(this),this._getLoopDuration().toString()+"i",n+"i",i)}else e.id=t.Transport.schedule(this._tick.bind(this),n+"i")}}.bind(this)),this},Object.defineProperty(t.Event.prototype,"state",{get:function(){return this._state.getStateAtTime(t.Transport.ticks)}}),Object.defineProperty(t.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),t.Event.prototype.start=function(e){return e=this.toTicks(e),this._state.getStateAtTime(e)===t.State.Stopped&&(this._state.addEvent({state:t.State.Started,time:e,id:void 0}),this._rescheduleEvents(e)),this},t.Event.prototype.stop=function(e){if(this.cancel(e),e=this.toTicks(e),this._state.getStateAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Stopped,e);var i=this._state.getEventBefore(e),n=e;null!==i&&(n=i.time),this._rescheduleEvents(n)}return this},t.Event.prototype.cancel=function(e){return e=this.defaultArg(e,-1/0),e=this.toTicks(e),this._state.forEachFrom(e,(function(e){t.Transport.clear(e.id)})),this._state.cancel(e),this},t.Event.prototype._tick=function(e){if(!this.mute&&this._state.getStateAtTime(t.Transport.ticks)===t.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var i=.02;this.isBoolean(this.humanize)||(i=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*i}this.callback(e,this.value)}},t.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(t.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"progress",{get:function(){if(this._loop){var e=t.Transport.ticks,i=this._state.getEvent(e);if(null!==i&&i.state===t.State.Started){var n=this._getLoopDuration();return(e-i.time)%n/n}return 0}return 0}}),t.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},t.Event}.apply(e,n))||(t.exports=o)},7384:(t,e,i)=>{var n,o;n=[i(1826),i(732),i(8859),i(6775)],void 0===(o=function(t){"use strict";return t.Part=function(){var e=this.optionsObject(arguments,["callback","events"],t.Part.defaults);this._loop=e.loop,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this._startOffset=0,this._state=new t.TimelineState(t.State.Stopped),this._events=[],this.callback=e.callback,this.mute=e.mute;var i=this.defaultArg(e.events,[]);if(!this.isUndef(e.events))for(var n=0;n<i.length;n++)Array.isArray(i[n])?this.add(i[n][0],i[n][1]):this.add(i[n])},t.extend(t.Part,t.Event),t.Part.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1},t.Part.prototype.start=function(e,i){var n=this.toTicks(e);return this._state.getStateAtTime(n)!==t.State.Started&&(i=this._loop?this.defaultArg(i,this._loopStart):this.defaultArg(i,0),i=this.toTicks(i),this._state.addEvent({state:t.State.Started,time:n,offset:i}),this._forEach((function(t){this._startNote(t,n,i)}))),this},t.Part.prototype._startNote=function(t,e,i){e-=i,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<i&&(e+=this._getLoopDuration()),t.start(e+"i")):t.startOffset<this._loopStart&&t.startOffset>=i&&(t.loop=!1,t.start(e+"i")):t.startOffset>=i&&t.start(e+"i")},Object.defineProperty(t.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach((function(t){t.startOffset+=this._startOffset}))}}),t.Part.prototype.stop=function(e){var i=this.toTicks(e);return this._state.getStateAtTime(i)===t.State.Started&&(this._state.setStateAtTime(t.State.Stopped,i),this._forEach((function(t){t.stop(e)}))),this},t.Part.prototype.at=function(t,e){t=this.toTicks(t);for(var i=this.ticksToSeconds(1),n=0;n<this._events.length;n++){var o=this._events[n];if(Math.abs(t-o.startOffset)<i)return this.isUndef(e)||(o.value=e),o}return this.isUndef(e)?null:(this.add(t+"i",e),this._events[this._events.length-1])},t.Part.prototype.add=function(e,i){var n;return this.isObject(e)&&e.hasOwnProperty("time")&&(e=(i=e).time,delete i.time),e=this.toTicks(e),i instanceof t.Event?(n=i).callback=this._tick.bind(this):n=new t.Event({callback:this._tick.bind(this),value:i}),n.startOffset=e,n.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(n),this._restartEvent(n),this},t.Part.prototype._restartEvent=function(e){var i=this._state.getEvent(this.now());i&&i.state===t.State.Started&&this._startNote(e,i.time,i.offset)},t.Part.prototype.remove=function(e,i){this.isObject(e)&&e.hasOwnProperty("time")&&(e=(i=e).time),e=this.toTicks(e);for(var n=this._events.length-1;n>=0;n--){var o=this._events[n];o instanceof t.Part?o.remove(e,i):o.startOffset===e&&(this.isUndef(i)||!this.isUndef(i)&&o.value===i)&&(this._events.splice(n,1),o.dispose())}return this},t.Part.prototype.removeAll=function(){return this._forEach((function(t){t.dispose()})),this._events=[],this},t.Part.prototype.cancel=function(t){return this._forEach((function(e){e.cancel(t)})),this._state.cancel(t),this},t.Part.prototype._forEach=function(e,i){i=this.defaultArg(i,this);for(var n=this._events.length-1;n>=0;n--){var o=this._events[n];o instanceof t.Part?o._forEach(e,i):e.call(i,o)}return this},t.Part.prototype._setAll=function(t,e){this._forEach((function(i){i[t]=e}))},t.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},t.Part.prototype._testLoopBoundries=function(e){e.startOffset<this._loopStart||e.startOffset>=this._loopEnd?e.cancel():e.state===t.State.Stopped&&this._restartEvent(e)},Object.defineProperty(t.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(t.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(t.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach((function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)}))}}),Object.defineProperty(t.Part.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((function(t){t.loopEnd=this.loopEnd,this._testLoopBoundries(t)}))}}),Object.defineProperty(t.Part.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}}),Object.defineProperty(t.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(t.Part.prototype,"length",{get:function(){return this._events.length}}),t.Part.prototype.dispose=function(){return this.removeAll(),this._state.dispose(),this._state=null,this.callback=null,this._events=null,this},t.Part}.apply(e,n))||(t.exports=o)},6994:(t,e,i)=>{var n,o;n=[i(1826),i(8859)],void 0===(o=function(t){"use strict";return t.Instrument=function(e){e=this.defaultArg(e,t.Instrument.defaults),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume")},t.extend(t.Instrument),t.Instrument.defaults={volume:0},t.Instrument.prototype.triggerAttack=t.noOp,t.Instrument.prototype.triggerRelease=t.noOp,t.Instrument.prototype.triggerAttackRelease=function(t,e,i,n){return i=this.toSeconds(i),e=this.toSeconds(e),this.triggerAttack(t,i,n),this.triggerRelease(i+e),this},t.Instrument.prototype.dispose=function(){return t.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this},t.Instrument}.apply(e,n))||(t.exports=o)},4450:(t,e,i)=>{var n,o;n=[i(1826),i(5394),i(6994),i(7927)],void 0===(o=function(t){"use strict";return t.MembraneSynth=function(e){e=this.defaultArg(e,t.MembraneSynth.defaults),t.Instrument.call(this,e),this.oscillator=new t.Oscillator(e.oscillator).start(),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.octaves=e.octaves,this.pitchDecay=e.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},t.extend(t.MembraneSynth,t.Instrument),t.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},t.MembraneSynth.prototype.triggerAttack=function(t,e,i){e=this.toSeconds(e);var n=(t=this.toFrequency(t))*this.octaves;return this.oscillator.frequency.setValueAtTime(n,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,i),this},t.MembraneSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this},t.MembraneSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},t.MembraneSynth}.apply(e,n))||(t.exports=o)},9949:(t,e,i)=>{var n,o;n=[i(1826),i(7680)],void 0===(o=function(t){"use strict";return t.Pow=function(e){this._exp=this.defaultArg(e,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},t.Pow.prototype.dispose=function(){return t.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}.apply(e,n))||(t.exports=o)},3596:(t,e,i)=>{var n,o;n=[i(1826),i(7680),i(8859),i(5247),i(8798)],void 0===(o=function(t){"use strict";return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),e.param=this._gain.gain,t.Param.call(this,e),this.input=this._param=this._gain.gain,t.Signal._constant.chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal._constant=null,t._initAudioContext((function(e){for(var i=e.createBuffer(1,128,e.sampleRate),n=i.getChannelData(0),o=0;o<n.length;o++)n[o]=1;t.Signal._constant=e.createBufferSource(),t.Signal._constant.channelCount=1,t.Signal._constant.channelCountMode="explicit",t.Signal._constant.buffer=i,t.Signal._constant.loop=!0,t.Signal._constant.start(0),t.Signal._constant.noGC()})),t.Signal}.apply(e,n))||(t.exports=o)},8143:(t,e,i)=>{var n,o;n=[i(1826)],void 0===(o=function(t){"use strict";return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,i,n){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,i,n),this},t.SignalBase}.apply(e,n))||(t.exports=o)},5888:(t,e,i)=>{var n,o;n=[i(1826),i(3596),i(5327)],void 0===(o=function(t){"use strict";return t.TimelineSignal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);t.Signal.apply(this,e),e.param=this._param,t.Param.call(this,e),this._events=new t.Timeline(10),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._initial=e,this._param.value=e}}),t.TimelineSignal.prototype.setValueAtTime=function(e,i){return e=this._fromUnits(e),i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Set,value:e,time:i}),this._param.setValueAtTime(e,i),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,i){return e=this._fromUnits(e),i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Linear,value:e,time:i}),this._param.linearRampToValueAtTime(e,i),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,i){var n=this._searchBefore(i);n&&0===n.value&&this.setValueAtTime(this._minOutput,n.time),e=this._fromUnits(e);var o=Math.max(e,this._minOutput);return i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Exponential,value:o,time:i}),e<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,i-1/t.context.sampleRate),this.setValueAtTime(0,i)):this._param.exponentialRampToValueAtTime(e,i),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,i,n){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),n=Math.max(this._minOutput,n),i=this.toSeconds(i),this._events.addEvent({type:t.TimelineSignal.Type.Target,value:e,time:i,constant:n}),this._param.setTargetAtTime(e,i,n),this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return this._events.cancel(t),this._param.cancelScheduledValues(this.toSeconds(t)),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var i=this.getValueAtTime(e),n=this._searchBefore(e);if(n&&n.time===e)this.cancelScheduledValues(e+this.sampleTime);else{var o=this._searchAfter(e);o&&(this.cancelScheduledValues(e),o.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(i,e):o.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(i,e)),this.setValueAtTime(i,e)}return this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,i){return this.setRampPoint(e),this.linearRampToValueAtTime(t,i),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,i){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,i),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.getEvent(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getEventAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){var i=this._searchAfter(e),n=this._searchBefore(e),o=this._initial;if(null===n)o=this._initial;else if(n.type===t.TimelineSignal.Type.Target){var r,s=this._events.getEventBefore(n.time);r=null===s?this._initial:s.value,o=this._exponentialApproach(n.time,r,n.value,n.constant,e)}else o=null===i?n.value:i.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(n.time,n.value,i.time,i.value,e):i.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(n.time,n.value,i.time,i.value,e):n.value;return o},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,i,n,o){return i+(e-i)*Math.exp(-(o-t)/n)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,i,n,o){return e+(o-t)/(i-t)*(n-e)},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,i,n,o){return(e=Math.max(this._minOutput,e))*Math.pow(n/e,(o-t)/(i-t))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}.apply(e,n))||(t.exports=o)},7680:(t,e,i)=>{var n,o;n=[i(1826),i(8143)],void 0===(o=function(t){"use strict";return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,i=this._curve.length;e<i;e++){var n=e/i*2-1;this._curve[e]=t(n,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(-1===["none","2x","4x"].indexOf(t))throw new Error("invalid oversampling: "+t);this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}.apply(e,n))||(t.exports=o)},969:(t,e,i)=>{var n,o;n=[i(1826),i(8798),i(1347)],void 0===(o=function(t){return t.MultiPlayer=function(e){t.call(this,0,1),this._buffers={},this._sourceOutput=new t.Gain,this._sourceOutput.connect(this.output),this.isObject(e)&&this.addBuffer(e),this.output.channelCount=2,this.output.channelCountMode="explicit"},t.extend(t.MultiPlayer),t.MultiPlayer.prototype.start=function(t,e,i){if(i=this.defaultArg(i,{playbackRate:1,gain:1,offset:0,attack:0,release:0}),this._buffers.hasOwnProperty(t)){var n=this._buffers[t],o=this.context.createBufferSource();o.buffer=n.get();var r=this.context.createGain();if(o.connect(r),r.connect(this._sourceOutput),o.playbackRate.value=i.playbackRate,e=this.toSeconds(e),o.start(e,i.offset),0!==i.attack?(r.gain.setValueAtTime(0,e),r.gain.linearRampToValueAtTime(i.gain,e+this.toSeconds(i.attack))):r.gain.setValueAtTime(i.gain,e),!this.isUndef(i.duration)){var s=this.toSeconds(i.duration,n.duration),a=this.toSeconds(i.release);r.gain.setValueAtTime(i.gain,e+s),r.gain.linearRampToValueAtTime(0,e+s+a),o.stop(e+s+a)}}return this},t.MultiPlayer.prototype.stopAll=function(e,i){return e=this.toSeconds(e),i=this.defaultArg(i,.01),i=this.toSeconds(i),this._sourceOutput.gain.setValueAtTime(1,e),this._sourceOutput.gain.linearRampToValueAtTime(0,e+i),this._sourceOutput=(new t.Gain).connect(this.output),this},t.MultiPlayer.prototype.addBuffer=function(e,i,n){var o=0;function r(){0==--o&&this.isFunction(i)&&i()}if(this.isObject(e))for(var s in e)o++,this.addBuffer(s,e[s],r);else i instanceof t.Buffer?this._buffers[e]=i:this._buffers[e]=new t.Buffer(i,n);return this},t.MultiPlayer.prototype.dispose=function(){for(var e in this.stopAll(),t.prototype.dispose.call(this),this._sourceOutput.dispose(),this._sourceOutput=null,this._buffers)this._buffers[e].dispose();return this._buffers=null,this},t.MultiPlayer}.apply(e,n))||(t.exports=o)},5394:(t,e,i)=>{var n,o;n=[i(1826),i(3596),i(4227),i(6775)],void 0===(o=function(t){"use strict";return t.Oscillator=function(){var e=this.optionsObject(arguments,["frequency","type"],t.Oscillator.defaults);t.Source.call(this,e),this._oscillator=null,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._wave=null,this._partials=this.defaultArg(e.partials,[1]),this._phase=e.phase,this._type=null,this.type=e.type,this.phase=this._phase,this._readOnly(["frequency","detune"])},t.extend(t.Oscillator,t.Source),t.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[]},t.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},t.Oscillator.prototype._start=function(t){this._oscillator=this.context.createOscillator(),this._oscillator.setPeriodicWave(this._wave),this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(this.toSeconds(t))},t.Oscillator.prototype._stop=function(t){return this._oscillator&&(this._oscillator.stop(this.toSeconds(t)),this._oscillator=null),this},t.Oscillator.prototype.syncFrequency=function(){return t.Transport.syncSignal(this.frequency),this},t.Oscillator.prototype.unsyncFrequency=function(){return t.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(t.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e[0],e[1]);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),this._type=t}}),t.Oscillator.prototype._getRealImaginary=function(e,i){var n=2048,o=new Float32Array(n),r=new Float32Array(n),s=1;if(e===t.Oscillator.Type.Custom)n=s=this._partials.length+1;else{var a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);a&&(s=parseInt(a[2])+1,e=a[1],n=s=Math.max(s,2))}for(var h=1;h<n;++h){var l,p=2/(h*Math.PI);switch(e){case t.Oscillator.Type.Sine:l=h<=s?1:0;break;case t.Oscillator.Type.Square:l=1&h?2*p:0;break;case t.Oscillator.Type.Sawtooth:l=p*(1&h?1:-1);break;case t.Oscillator.Type.Triangle:l=1&h?p*p*2*(h-1>>1&1?-1:1):0;break;case t.Oscillator.Type.Custom:l=this._partials[h-1];break;default:throw new Error("invalid oscillator type: "+e)}0!==l?(o[h]=-l*Math.sin(i*h),r[h]=l*Math.cos(i*h)):(o[h]=0,r[h]=0)}return[o,r]},t.Oscillator.prototype._inverseFFT=function(t,e,i){for(var n=0,o=t.length,r=0;r<o;r++)n+=t[r]*Math.cos(r*i)+e[r]*Math.sin(r*i);return n},t.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],i=t[1],n=0,o=2*Math.PI,r=0;r<8;r++)n=Math.max(this._inverseFFT(e,i,r/8*o),n);return-this._inverseFFT(e,i,this._phase)/n},Object.defineProperty(t.Oscillator.prototype,"partials",{get:function(){return this._type!==t.Oscillator.Type.Custom?[]:this._partials},set:function(e){this._partials=e,this.type=t.Oscillator.Type.Custom}}),Object.defineProperty(t.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),t.Oscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.disconnect(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},t.Oscillator}.apply(e,n))||(t.exports=o)},4227:(t,e,i)=>{var n,o;n=[i(1826),i(6775),i(4926),i(1347),i(8859),i(5737),i(3596)],void 0===(o=function(t){"use strict";return t.Source=function(e){t.call(this),e=this.defaultArg(e,t.Source.defaults),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new t.TimelineState(t.State.Stopped),this._syncStart=function(t,e){t=this.toSeconds(t),t+=this.toSeconds(this._startDelay),this.start(t,e)}.bind(this),this._syncStop=this.stop.bind(this),this._startDelay=0,this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit"},t.extend(t.Source),t.Source.defaults={volume:0},Object.defineProperty(t.Source.prototype,"state",{get:function(){return this._state.getStateAtTime(this.now())}}),t.Source.prototype.start=function(e){return e=this.toSeconds(e),(this._state.getStateAtTime(e)!==t.State.Started||this.retrigger)&&(this._state.setStateAtTime(t.State.Started,e),this._start&&this._start.apply(this,arguments)),this},t.Source.prototype.stop=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)===t.State.Started&&(this._state.setStateAtTime(t.State.Stopped,e),this._stop&&this._stop.apply(this,arguments)),this},t.Source.prototype.sync=function(e){return this._startDelay=this.defaultArg(e,0),t.Transport.on("start",this._syncStart),t.Transport.on("stop pause",this._syncStop),this},t.Source.prototype.unsync=function(){return this._startDelay=0,t.Transport.off("start",this._syncStart),t.Transport.off("stop pause",this._syncStop),this},t.Source.prototype.dispose=function(){this.stop(),t.prototype.dispose.call(this),this.unsync(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null,this._syncStart=null,this._syncStart=null},t.Source}.apply(e,n))||(t.exports=o)},3941:(t,e,i)=>{"use strict";t.exports=i.p+"0a2970e8c6dc0947d7ee.png"},1417:(t,e,i)=>{"use strict";t.exports=i.p+"81bbe38b7a2d100d1b2b.png"}}]);